<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Universal Sentence Encoder | TensorFlow.JS</title>
    <style>
        /* System Fonts as used by GitHub */
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
        }
        h1 {
            text-align: center;
        }
    </style>
    <!-- LOAD TFJS -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <!-- LOAD USE LITE -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder"></script>
</head>

<body>
    <h1>Universal Sentence Encoder | TensorFlow.JS</h1>
    <script>
        async function init(){

            const model = await use.load();
            console.log("Model loaded...");

            const questions = [
                "What is your favorite color?",
                "How old are you?"
            ];

            const questionEmbeddings = await model.embed( questions );
            console.log( questionEmbeddings );
            console.log( questionEmbeddings.dataSync() ); 

            const userQuestion = "What is your age?";
            const userQuestionEmbedding = await model.embed( userQuestion );

            const questionEmbeddingsArray = await questionEmbeddings.array();

            questionEmbeddingsArray.forEach( question => {
                const dot = tf.dot( userQuestionEmbedding, question );
                console.log( dot.dataSync() );
            });

        }

        init();
    </script>
</body>

</html>